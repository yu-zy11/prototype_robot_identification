function Y=Ymatrix_example(q,dq,ddq)
q1=q(1);q2=q(2);q3=q(3);
dq1=dq(1);dq2=dq(2);dq3=dq(3);
ddq1=ddq(1);ddq2=ddq(2);ddq3=ddq(3);
l1=1;
l2=1.5;
l3=2;
g=9.81;
Y =[0, 0, 0, ddq1, 0, 0, -g*cos(q1), 0, -g*sin(q1), 0,    0, - sin(q2)*dq2^2 + ddq2*cos(q2), - cos(q2)*dq2^2 - ddq2*sin(q2), ddq1*cos(q2)^2 - 2*dq1*dq2*cos(q2)*sin(q2), - ddq1*sin(2*q2) - 2*dq1*dq2*cos(2*q2), ddq1*sin(q2)^2 + 2*dq1*dq2*cos(q2)*sin(q2), -g*cos(q1), - 2*ddq1*l1*sin(q2) - g*sin(q1)*sin(q2) - 2*dq1*dq2*l1*cos(q2), 2*dq1*dq2*l1*sin(q2) - g*cos(q2)*sin(q1) - 2*ddq1*l1*cos(q2), ddq1*l1^2 + g*sin(q1)*l1,           0, ddq2*cos(q2 + q3) + ddq3*cos(q2 + q3) - 2*dq2*sin(q2 + q3)*(dq2/2 + dq3/2) - 2*dq3*sin(q2 + q3)*(dq2/2 + dq3/2), - ddq2*sin(q2 + q3) - ddq3*sin(q2 + q3) - 2*dq2*cos(q2 + q3)*(dq2/2 + dq3/2) - 2*dq3*cos(q2 + q3)*(dq2/2 + dq3/2), ddq1/2 + (ddq1*cos(2*q2 + 2*q3))/2 - dq1*dq2*sin(2*q2 + 2*q3) - dq1*dq3*sin(2*q2 + 2*q3), - ddq1*sin(2*q2 + 2*q3) - 2*dq1*dq2*cos(2*q2 + 2*q3) - 2*dq1*dq3*cos(2*q2 + 2*q3), ddq1/2 - (ddq1*cos(2*q2 + 2*q3))/2 + dq1*dq2*sin(2*q2 + 2*q3) + dq1*dq3*sin(2*q2 + 2*q3), - l2*cos(q2)*dq2^2 - g*cos(q1) - ddq2*l2*sin(q2),      - g*sin(q2 + q3)*sin(q1) - 2*dq1*dq2*(l1*cos(q2 + q3) + l2*cos(2*q2 + q3)) - 2*ddq1*sin(q2 + q3)*(l1 + l2*cos(q2)) - 2*dq1*dq3*cos(q2 + q3)*(l1 + l2*cos(q2)),        2*dq1*dq2*(l1*sin(q2 + q3) + l2*sin(2*q2 + q3)) - 2*ddq1*cos(q2 + q3)*(l1 + l2*cos(q2)) - g*cos(q2 + q3)*sin(q1) + 2*dq1*dq3*sin(q2 + q3)*(l1 + l2*cos(q2)), (l1 + l2*cos(q2))*(ddq1*l1 + g*sin(q1) + ddq1*l2*cos(q2) - 2*dq1*dq2*l2*sin(q2));
0, 0, 0,    0, 0, 0,          0, 0,          0, 0, ddq2,                   ddq1*cos(q2),                  -ddq1*sin(q2),                        (dq1^2*sin(2*q2))/2,                        dq1^2*cos(2*q2),                       -(dq1^2*sin(2*q2))/2,          0,                                 cos(q2)*(l1*dq1^2 + g*cos(q1)),                              -sin(q2)*(l1*dq1^2 + g*cos(q1)),                        0, ddq2 + ddq3,                                                                                               ddq1*cos(q2 + q3),                                                                                                -ddq1*sin(q2 + q3),                                                               (dq1^2*sin(2*q2 + 2*q3))/2,                                                            dq1^2*cos(2*q2 + 2*q3),                                                              -(dq1^2*sin(2*q2 + 2*q3))/2,                                 -ddq1*l2*sin(q2), dq1^2*cos(q2 + q3)*(l1 + l2*cos(q2)) - ddq3*l2*sin(q3) - 2*ddq2*l2*sin(q3) + g*cos(q2 + q3)*cos(q1) - dq1^2*l2*sin(q2 + q3)*sin(q2) - dq3*l2*cos(q3)*(2*dq2 + dq3), dq3*l2*sin(q3)*(2*dq2 + dq3) - ddq3*l2*cos(q3) - dq1^2*sin(q2 + q3)*(l1 + l2*cos(q2)) - g*sin(q2 + q3)*cos(q1) - dq1^2*l2*cos(q2 + q3)*sin(q2) - 2*ddq2*l2*cos(q3),     l2*(ddq2*l2 + dq1^2*l1*sin(q2) + g*cos(q1)*sin(q2) + (dq1^2*l2*sin(2*q2))/2);
0, 0, 0,    0, 0, 0,          0, 0,          0, 0,    0,                              0,                              0,                                          0,                                      0,                                          0,          0,                                                              0,                                                            0,                        0, ddq2 + ddq3,                                                                                               ddq1*cos(q2 + q3),                                                                                                -ddq1*sin(q2 + q3),                                                               (dq1^2*sin(2*q2 + 2*q3))/2,                                                            dq1^2*cos(2*q2 + 2*q3),                                                              -(dq1^2*sin(2*q2 + 2*q3))/2,                                                0,                                                dq1^2*l1*cos(q2 + q3) - ddq2*l2*sin(q3) + g*cos(q2 + q3)*cos(q1) + dq2^2*l2*cos(q3) + dq1^2*l2*cos(q2 + q3)*cos(q2),                                              - ddq2*l2*cos(q3) - dq1^2*l1*sin(q2 + q3) - g*sin(q2 + q3)*cos(q1) - dq2^2*l2*sin(q3) - dq1^2*l2*sin(q2 + q3)*cos(q2),                                                                                0];
 
end